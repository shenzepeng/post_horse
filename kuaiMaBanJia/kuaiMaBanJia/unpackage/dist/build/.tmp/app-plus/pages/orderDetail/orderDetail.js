(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderDetail/orderDetail"],{"0de8":function(t,e,o){"use strict";o.r(e);var a=o("62c8"),n=o("9010");for(var r in n)"default"!==r&&function(t){o.d(e,t,function(){return n[t]})}(r);o("5ee0");var s=o("2877"),i=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},"13b7":function(t,e,o){"use strict";o("601e");var a=r(o("b0ce")),n=r(o("0de8"));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},"5ee0":function(t,e,o){"use strict";var a=o("aa34"),n=o.n(a);n.a},"62c8":function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",[o("view",{staticClass:"order-state-box"},[o("text",{staticClass:"state-text"},[t._v(t._s(t.orderInfo.orderStatus))]),o("text",{staticClass:"welcome"},[t._v("期待下次为您服务")])]),o("view",{staticClass:"order-info-box"},[o("view",{staticClass:"top-box"},[o("view",{staticClass:"order-code"},[t._v("订单号："+t._s(t.orderInfo.stringId))]),o("view",{staticClass:"time"},[t._v(t._s(t.orderInfo.createTime))])]),o("view",{staticClass:"bottom-box"},[o("view",{staticClass:"company"},[t._v(t._s(t.orderInfo.companyName))]),o("view",{staticClass:"origin"},[t._v("出发地："+t._s(t.orderInfo.origin))]),o("view",{staticClass:"destination"},[t._v("目的地："+t._s(t.orderInfo.destination))])])]),"进行中"==t.orderInfo.orderStatus&&"个人账号"==t.userInfo.type?o("view",{staticClass:"cancel-order-box"},[o("button",{staticClass:"cancel-box",attrs:{type:"primary",eventid:"fb1bfd8c-0"},on:{tap:t.cancelOrder}},[t._v("取消订单")])],1):t._e(),"进行中"==t.orderInfo.orderStatus&&"企业账号"==t.userInfo.type?o("view",{staticClass:"cancel-order-box"},[o("button",{staticClass:"cancel-box",attrs:{type:"primary",eventid:"fb1bfd8c-1"},on:{tap:t.finishOrder}},[t._v("完成订单")])],1):t._e(),"已完成"==t.orderInfo.orderStatus?o("view",{staticClass:"finish-box"},[o("view",{staticClass:"title"},[t._v("完成时间")]),o("view",{staticClass:"content"},[t._v(t._s(t.orderInfo.finishedTime))])]):t._e(),"已完成"==t.orderInfo.orderStatus&&null!=t.orderInfo.evaluateContent?o("view",{staticClass:"order-evaluate-box"},[t._m(0),o("view",{staticClass:"bottom-box"},[o("view",{staticClass:"count"},[o("text",[t._v("服务：")]),o("uni-rate",{attrs:{value:null==t.orderInfo.score?0:t.orderInfo.score,disabled:"true",mpcomid:"fb1bfd8c-0"}})],1),o("view",{staticClass:"content"},[t._v(t._s(t.orderInfo.evaluateContent))])])]):t._e()])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"top-box"},[o("view",{staticClass:"order-code"},[t._v("订单评价")])])}];o.d(e,"a",function(){return a}),o.d(e,"b",function(){return n})},9010:function(t,e,o){"use strict";o.r(e);var a=o("c3cf"),n=o.n(a);for(var r in a)"default"!==r&&function(t){o.d(e,t,function(){return a[t]})}(r);e["default"]=n.a},aa34:function(t,e,o){},c3cf:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(o("3ff6")),n=r(o("8a36"));function r(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{orderId:"",orderInfo:{},userInfo:{}}},components:{uniRate:n.default},onLoad:function(t){this.init(t.id),this.orderId=t.id},onPullDownRefresh:function(){console.log("refresh"),this.getData(this.orderId),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{init:function(e){var o=this;t.getStorage({key:"userInfo",success:function(t){console.log(t),o.userInfo=t.data,console.log(o.userInfo)},fail:function(t){console.log(t)}}),this.getData(e)},cancelOrder:function(){var e=this;t.request({url:"".concat(a.default,"/post_horse-0.0.1-SNAPSHOT/updateBookById.action"),method:"PUT",data:{id:e.orderId,orderStatus:"已取消"},success:function(t){console.log(t),e.orderInfo.orderStatus=t.data.data.orderStatus},fail:function(){},complete:function(){}})},finishOrder:function(){var e=this;t.request({url:"".concat(a.default,"/post_horse-0.0.1-SNAPSHOT/updateBookById.action"),method:"PUT",data:{id:e.orderId,orderStatus:"已完成"},success:function(t){console.log(t),e.orderInfo.orderStatus=t.data.data.orderStatus},fail:function(){},complete:function(){}})},getData:function(e){var o=this;t.request({url:"".concat(a.default,"/post_horse-0.0.1-SNAPSHOT/findBookById.action"),method:"GET",data:{id:e},success:function(t){console.log(t),o.orderInfo=t.data.data},fail:function(){},complete:function(){}})}}};e.default=s}).call(this,o("6e42")["default"])}},[["13b7","common/runtime","common/vendor"]]]);